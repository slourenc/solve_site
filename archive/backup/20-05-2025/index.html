<!DOCTYPE html>
<html lang="en" data-theme="light" data-lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Solve. | Premium Shoe Cleaning Services in Lisbon</title>
    <meta name="description" content="Professional shoe cleaning services in Lisbon. Give your sneakers a new life with our expert cleaning techniques.">
    
    <!-- Favicon -->
    <link rel="icon" href="logos/favicon.png" type="image/png">
    
    <!-- Tailwind CSS -->
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    
    <!-- Alpine JS Intersect Plugin - Must be loaded BEFORE Alpine core -->
    <script defer src="https://cdn.jsdelivr.net/npm/@alpinejs/intersect@3.13.0/dist/cdn.min.js"></script>
    
    <!-- Alpine JS Core -->
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.13.0/dist/cdn.min.js"></script>
    
    <!-- AOS Animations -->
    <link href="node_modules/aos/dist/aos.css" rel="stylesheet">
    <script src="node_modules/aos/dist/aos.js"></script>
    
    <!-- AOS Fix for transition-delay errors -->
    <link href="aos-fix.css" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="node_modules/font-awesome/css/font-awesome.min.css" />
    
    <!-- Custom Styles -->
    <link rel="stylesheet" href="styles.css">

    <style>
        /* Ensure theme and language transitions are smooth */
        html {
            transition: color 0.3s ease, background-color 0.3s ease;
        }
        
        /* Fix header contrast in both light and dark themes */
        .fancy-nav-item {
            position: relative;
            font-weight: 500;
        }
        
        .fancy-nav-item:after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: -4px;
            left: 0;
            background-color: var(--primary-accent);
            transition: width 0.3s ease;
        }
        
        .fancy-nav-item:hover:after {
            width: 100%;
        }
        
        /* More animation enhancements */
        .animate-float {
            animation: float 6s ease-in-out infinite;
        }
        
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }
        
        /* Fix footer spacing */
        .footer-section {
            margin-top: 2rem;
            margin-bottom: 1rem;
        }
        
        .footer-content {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }
        
        @media (min-width: 768px) {
            .footer-content {
                flex-direction: row;
                justify-content: space-between;
            }
        }
        
        /* Font smoothing fixes */
        body {
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
    </style>

    <script>
        // Initialize theme from local storage
        document.addEventListener('DOMContentLoaded', () => {
            const savedTheme = localStorage.getItem('theme');
            const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
            
            if (savedTheme) {
                document.documentElement.setAttribute('data-theme', savedTheme);
            } else if (prefersDark) {
                document.documentElement.setAttribute('data-theme', 'dark');
        }
        
            // Initialize AOS animations with fixed values for transition delays
            AOS.init({
                duration: 1000,
                once: false,
                offset: 100,
                easing: 'ease-in-out',
                delay: 0, // Use 0 as base delay and handle specific delays via data-aos-delay attributes
                anchorPlacement: 'top-bottom',
                useClassNames: false, // Don't add classes for animation state
                disableMutationObserver: false,
                throttleDelay: 99
            });
            
            // Language switching logic
            const userLang = navigator.language || navigator.userLanguage;
            const savedLang = localStorage.getItem('preferredLanguage');
            
            if (savedLang) {
                document.documentElement.setAttribute('data-lang', savedLang);
            } else if (userLang.startsWith('pt')) {
                document.documentElement.setAttribute('data-lang', 'pt');
            } else {
                document.documentElement.setAttribute('data-lang', 'en');
            }
        });
        
        // Theme toggling function - now explicitly handles transitions
        function toggleTheme() {
            const currentTheme = document.documentElement.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            
            document.documentElement.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
            
            // Update all toggles
            const toggles = document.querySelectorAll('.dark-mode-toggle input[type="checkbox"]');
            toggles.forEach(toggle => {
                toggle.checked = newTheme === 'dark';
            });
        }
        
        // Language toggle function
        function setLanguage(lang) {
            document.documentElement.setAttribute('data-lang', lang);
            localStorage.setItem('preferredLanguage', lang);
            
            // Update button states
            const buttons = document.querySelectorAll('.lang-btn');
            buttons.forEach(btn => {
                if ((btn.textContent.trim() === 'PT' && lang === 'pt') || 
                    (btn.textContent.trim() === 'EN' && lang === 'en')) {
                    btn.classList.add('active');
                } else {
                    btn.classList.remove('active');
                }
            });
        }
    </script>
</head>
<body class="bg-background-light text-text-primary font-sans antialiased dark:bg-background-dark dark:text-text-inverse">

    <!-- Header -->
    <header id="home" x-data="{ mobileMenuOpen: false }" class="shadow-md sticky top-0 z-50 header-bg">
        <div class="container mx-auto px-6 py-4">
            <nav class="flex justify-between items-center">
            <a href="#home" class="flex items-center" aria-label="Solve. Home">
                    <svg aria-hidden="true" focusable="false" class="h-8 sm:h-9 w-auto" viewBox="0 0 130 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <style>
                        .solve-logo-text { font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji'; font-size: 30px; font-weight: 700; letter-spacing: -0.5px; }
                    </style>
                        <!-- Removing the gray rectangle -->
                        <text x="0" y="28" class="solve-logo-text logo-text-main">Solve</text>
                        <text x="78" y="28" class="solve-logo-text logo-text-accent">.</text>
                        <path d="M100 12 Q102 10 104 12 L106 15 Q108 13 110 15 L112 18 Q110 20 112 22 L110 25 Q108 27 106 25 L104 22 Q102 24 100 22 L102 18 Q100 16 102 18 Z" class="logo-icon opacity-75 transform rotate-12" transform-origin="106 18.5"/>
                </svg>
            </a>
            
            <!-- Desktop Menu -->
            <div class="hidden md:flex space-x-6 items-center">
                    <a href="#home" class="nav-link hover:text-primary-accent transition-colors duration-300 fancy-nav-item" aria-label="Go to Home section">
                    <span class="lang-pt">Início</span>
                    <span class="lang-en">Home</span>
                </a>
                    <a href="#services" class="nav-link hover:text-primary-accent transition-colors duration-300 fancy-nav-item" aria-label="Go to Services section">
                    <span class="lang-pt">Serviços</span>
                    <span class="lang-en">Services</span>
                </a>
                    <a href="#how-it-works" class="nav-link hover:text-primary-accent transition-colors duration-300 fancy-nav-item" aria-label="Go to How It Works section">
                    <span class="lang-pt">Como Funciona</span>
                    <span class="lang-en">How It Works</span>
                </a>
                    <a href="#pricing" class="nav-link hover:text-primary-accent transition-colors duration-300 fancy-nav-item" aria-label="Go to Pricing section">
                    <span class="lang-pt">Preços</span>
                    <span class="lang-en">Pricing</span>
                </a>
                    <a href="src/about.html" class="nav-link hover:text-primary-accent transition-colors duration-300 fancy-nav-item" aria-label="Go to About section">
                    <span class="lang-pt">Sobre</span>
                    <span class="lang-en">About</span>
                </a>
                    <a href="src/contact.html" class="nav-link hover:text-primary-accent transition-colors duration-300 fancy-nav-item" aria-label="Go to Contact page">
                    <span class="lang-pt">Contacto</span>
                    <span class="lang-en">Contact</span>
                </a>
                    <a href="#visit-us" class="nav-link hover:text-primary-accent transition-colors duration-300 fancy-nav-item" aria-label="Go to Location section">
                    <span class="lang-pt">Localização</span>
                    <span class="lang-en">Location</span>
                </a>
                <div class="lang-toggle ml-2">
                    <button 
                            onclick="setLanguage('pt')"
                        class="lang-btn">
                        PT
                    </button>
                    <span class="mx-1">|</span>
                    <button 
                            onclick="setLanguage('en')"
                        class="lang-btn">
                        EN
                    </button>
                </div>
                <div class="dark-mode-toggle ml-4" title="Toggle Dark Mode">
                    <label class="toggle-switch">
                            <input type="checkbox" onclick="toggleTheme()">
                        <span class="toggle-slider"></span>
                    </label>
                </div>
            </div>

            <!-- Mobile Menu Button -->
            <div class="md:hidden flex items-center">
                <div class="lang-toggle mr-3">
                    <button 
                            onclick="setLanguage('pt')"
                        class="lang-btn">
                        PT
                    </button>
                    <span class="mx-1">|</span>
                    <button 
                            onclick="setLanguage('en')"
                        class="lang-btn">
                        EN
                    </button>
                </div>
                <div class="dark-mode-toggle mr-3" title="Toggle Dark Mode">
                    <label class="toggle-switch">
                            <input type="checkbox" onclick="toggleTheme()">
                        <span class="toggle-slider"></span>
                    </label>
                </div>
                <button @click="mobileMenuOpen = !mobileMenuOpen" class="text-text-primary hover:text-primary-accent focus:outline-none p-2" aria-label="Toggle mobile menu" aria-expanded="false" :aria-expanded="mobileMenuOpen.toString()">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path :class="{'hidden': mobileMenuOpen, 'inline-flex': !mobileMenuOpen }" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                        <path :class="{'hidden': !mobileMenuOpen, 'inline-flex': mobileMenuOpen }" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
        </nav>
        </div>

        <!-- Mobile Menu -->
        <div x-show="mobileMenuOpen" @click.away="mobileMenuOpen = false" class="md:hidden shadow-lg absolute w-full border-t mobile-menu-bg" 
             x-transition:enter="transition ease-out duration-200"
             x-transition:enter-start="opacity-0 transform -translate-y-2"
             x-transition:enter-end="opacity-100 transform translate-y-0"
             x-transition:leave="transition ease-in duration-150"
             x-transition:leave-start="opacity-100 transform translate-y-0"
             x-transition:leave-end="opacity-0 transform -translate-y-2">
            <a href="#home" @click="mobileMenuOpen = false" class="block px-6 py-3 nav-link hover:bg-background-medium hover:text-primary-accent transition-colors duration-200" aria-label="Go to Home section">
                <span class="lang-pt">Início</span>
                <span class="lang-en">Home</span>
            </a>
            <a href="#services" @click="mobileMenuOpen = false" class="block px-6 py-3 nav-link hover:bg-background-medium hover:text-primary-accent transition-colors duration-200" aria-label="Go to Services section">
                <span class="lang-pt">Serviços</span>
                <span class="lang-en">Services</span>
            </a>
            <a href="#how-it-works" @click="mobileMenuOpen = false" class="block px-6 py-3 nav-link hover:bg-background-medium hover:text-primary-accent transition-colors duration-200" aria-label="Go to How It Works section">
                <span class="lang-pt">Como Funciona</span>
                <span class="lang-en">How It Works</span>
            </a>
            <a href="#pricing" @click="mobileMenuOpen = false" class="block px-6 py-3 nav-link hover:bg-background-medium hover:text-primary-accent transition-colors duration-200" aria-label="Go to Pricing section">
                <span class="lang-pt">Preços</span>
                <span class="lang-en">Pricing</span>
            </a>
            <a href="src/about.html" @click="mobileMenuOpen = false" class="block px-6 py-3 nav-link hover:bg-background-medium hover:text-primary-accent transition-colors duration-200" aria-label="Go to About section">
                <span class="lang-pt">Sobre</span>
                <span class="lang-en">About</span>
            </a>
            <a href="src/contact.html" @click="mobileMenuOpen = false" class="block px-6 py-3 nav-link hover:bg-background-medium hover:text-primary-accent transition-colors duration-200" aria-label="Go to Contact page">
                <span class="lang-pt">Contacto</span>
                <span class="lang-en">Contact</span>
            </a>
            <a href="#visit-us" @click="mobileMenuOpen = false" class="block px-6 py-3 nav-link hover:bg-background-medium hover:text-primary-accent transition-colors duration-200" aria-label="Go to Location section">
                <span class="lang-pt">Localização</span>
                <span class="lang-en">Location</span>
            </a>
        </div>
    </header>

    <!-- Main Content -->
    <main x-data>
        <!-- Hero Section -->
        <section id="home" 
            class="bg-primary-accent text-text-inverse py-10 md:py-12 px-6 text-center relative overflow-hidden min-h-[65vh] flex items-start md:items-center justify-center"
            x-data="{ shown: true }" 
            x-intersect.once="shown = true">
            
            <!-- Video Background with colorful overlay -->
            <div class="video-bg-container">
                <div class="video-overlay" style="background: linear-gradient(135deg, rgba(0, 169, 157, 0.9), rgba(89, 0, 169, 0.6), rgba(0, 142, 190, 0.8))"></div>
                <video autoplay muted loop playsinline class="video-bg">
                    <!-- Use a video that showcases shoe cleaning process -->
                    <source src="https://player.vimeo.com/external/577442929.hd.mp4?s=95231c8a7fe2066ffb640204591b01a6c326b97c&profile_id=175" type="video/mp4">
                </video>
            </div>
            
            <!-- Decorative elements -->
            <div class="absolute top-0 right-0 w-64 h-64 bg-yellow-300 rounded-full blur-3xl opacity-20 animate-pulse-slow"></div>
            <div class="absolute bottom-0 left-0 w-80 h-80 bg-blue-400 rounded-full blur-3xl opacity-20 animate-pulse-slow"></div>
            
            <div class="container mx-auto relative z-10 pt-8 md:pt-0">
                <div class="grid md:grid-cols-2 gap-6 items-start">
                    <div data-aos="fade-right" data-aos-duration="1000" data-aos-delay="200" class="text-left mt-0 pt-4 md:pt-0">
                        <!-- Logo at top of text section -->
                        <div class="mb-4" data-aos="fade-up" data-aos-duration="800">
                            <svg aria-hidden="true" focusable="false" class="h-16 w-auto" viewBox="0 0 130 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <style>
                                    .solve-hero-logo-text { font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji'; font-size: 30px; font-weight: 700; letter-spacing: -0.5px; }
                                </style>
                                <text x="0" y="28" class="solve-hero-logo-text" fill="white">Solve</text>
                                <text x="78" y="28" class="solve-hero-logo-text" fill="#FFD700">.</text>
                                <path d="M100 12 Q102 10 104 12 L106 15 Q108 13 110 15 L112 18 Q110 20 112 22 L110 25 Q108 27 106 25 L104 22 Q102 24 100 22 L102 18 Q100 16 102 18 Z" fill="#FFD700" class="opacity-75 transform rotate-12" transform-origin="106 18.5"/>
                            </svg>
                        </div>
                        <h1 class="text-3xl sm:text-4xl md:text-5xl font-bold mb-4 leading-tight tracking-tight">
                            <span class="lang-pt">O Teu Calçado.<br class="hidden sm:block"/> <span class="text-accent-yellow animate-pulse">Impecavelmente</span> Limpo.</span>
                            <span class="lang-en">Your Sneakers.<br class="hidden sm:block"/> <span class="text-accent-yellow animate-pulse">Perfectly</span> Cleaned.</span>
                    </h1>
                        <p class="text-base md:text-lg mb-6 max-w-xl font-light">
                        <span class="lang-pt">Dá uma nova vida aos teus ténis com a Solve. Cuidamos deles com o carinho e profissionalismo que merecem.</span>
                        <span class="lang-en">Bring new life to your favorite kicks with Solve. We care for them with the attention they deserve.</span>
                    </p>
                        <div class="flex flex-col sm:flex-row gap-4">
                        <a href="#visit-us"
                           tabindex="0"
                           aria-label="Visit our store for shoe cleaning"
                               class="bg-white text-primary-accent font-bold py-2 px-6 rounded-full shadow-lg hover:bg-background-light transition-all duration-300 ease-in-out text-lg transform hover:scale-110 focus:outline-none focus:ring-2 focus:ring-white focus:ring-opacity-75">
                           <span class="lang-pt">Visitar Loja</span>
                           <span class="lang-en">Visit Store</span>
                        </a>
                            <a href="#services"
                               tabindex="0"
                               aria-label="See our services"
                               class="border-2 border-white bg-transparent text-white font-bold py-2 px-6 rounded-full hover:bg-white hover:bg-opacity-10 transition-all duration-300 ease-in-out text-lg transform hover:scale-110 focus:outline-none focus:ring-2 focus:ring-white focus:ring-opacity-75">
                               <span class="lang-pt">Ver Serviços</span>
                               <span class="lang-en">Our Services</span>
                        </a>
                    </div>
                    </div>
                    
                    <div class="hidden md:block animate-float" data-aos="fade-left" data-aos-duration="1000" data-aos-delay="300">
                        <div class="relative w-5/6 mx-auto">
                            <div class="absolute inset-0 bg-gradient-to-tr from-purple-500/30 to-pink-500/30 rounded-xl blur-lg transform -rotate-3"></div>
                            <img src="https://images.unsplash.com/photo-1595950653106-6c9ebd614d3a?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8c25lYWtlcnN8ZW58MHx8MHx8fDA%3D&auto=format&fit=crop&w=500&q=80" 
                                 alt="Clean sneakers" 
                                 class="w-full h-auto rounded-xl shadow-2xl transform hover:scale-105 transition-all duration-500 ease-in-out relative z-10" />
                            <div class="absolute -bottom-4 -right-4 w-24 h-24 bg-yellow-400 rounded-full opacity-75 z-0 animate-pulse-slow"></div>
                        </div>
                    </div>
                </div>

                <!-- Animated scroll down indicator -->
                <div class="absolute bottom-6 left-1/2 transform -translate-x-1/2 animate-bounce">
                    <a href="#services" class="text-white opacity-80 hover:opacity-100 transition-opacity">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3" />
                        </svg>
                    </a>
                </div>
            </div>
        </section>

        <!-- Services Section - adding more colorful elements -->
        <section id="services" class="py-20 md:py-28 px-6 bg-gradient-to-br from-background-light to-blue-50">
            <div class="container mx-auto">
                <div class="text-center mb-16" data-aos="fade-up" data-aos-duration="800">
                    <span class="text-primary-accent font-semibold text-sm uppercase tracking-wider px-4 py-1 rounded-full bg-primary-accent/10 inline-block">Nossos serviços</span>
                    <h2 class="text-3xl sm:text-4xl font-bold mt-3 mb-6 text-text-primary">
                        <span class="lang-pt">Cuida dos Teus Ténis <span class="text-primary-accent">Connosco</span></span>
                        <span class="lang-en">Care For Your Kicks <span class="text-primary-accent">With Us</span></span>
                    </h2>
                    <div class="w-20 h-1 bg-primary-accent mx-auto mb-6 rounded-full"></div>
                    <p class="text-text-secondary text-lg mb-8 max-w-xl mx-auto">
                        <span class="lang-pt">Desde uma limpeza rápida até uma restauração total, temos o serviço perfeito para os teus ténis.</span>
                        <span class="lang-en">From a quick refresh to a full restoration, we have the perfect service for your shoes.</span>
                    </p>
                </div>
                
                <div class="grid md:grid-cols-3 gap-10 md:gap-8">
                    <!-- Service Item 1 -->
                    <div class="group" data-aos="fade-up" data-aos-delay="100" data-aos-duration="800">
                        <div class="bg-white rounded-2xl shadow-xl overflow-hidden transform transition-all duration-500 group-hover:-translate-y-3 group-hover:shadow-2xl relative">
                            <!-- Decorative accent element -->
                            <div class="absolute top-0 right-0 w-20 h-20 bg-gradient-to-bl from-blue-300 to-transparent rounded-bl-full opacity-70 z-0"></div>
                            
                            <div class="relative">
                                <div class="absolute inset-0 bg-gradient-to-b from-transparent to-black opacity-60 z-10"></div>
                                <img src="https://images.unsplash.com/photo-1600269452121-4f2416e55c28?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8c25lYWtlcnN8ZW58MHx8MHx8fDA%3D&auto=format&fit=crop&w=500&q=80" 
                                     alt="Standard Cleaning" class="w-full h-64 object-cover transition-all duration-500 group-hover:scale-110" />
                                <div class="absolute top-4 left-4 bg-primary-accent text-white text-xs font-bold px-3 py-1 rounded-full shadow-md uppercase tracking-wide z-20">
                            <span class="lang-pt">Básico</span>
                            <span class="lang-en">Standard</span>
                        </div>
                            </div>
                            <div class="p-6">
                                <h3 class="text-xl font-bold mb-3 text-text-primary">
                            <span class="lang-pt">Limpeza Standard</span>
                            <span class="lang-en">Standard Clean</span>
                        </h3>
                                <p class="text-text-secondary mb-4">
                            <span class="lang-pt">Inclui exterior, sola e atacadores. Perfeito para um refresh rápido do desgaste diário.</span>
                            <span class="lang-en">Includes uppers, midsoles, and laces. Perfect for a quick refresh of everyday wear.</span>
                        </p>
                                <div class="flex items-center justify-between mt-4">
                                    <p class="text-primary-accent font-bold text-2xl">25€</p>
                                    <a href="#pricing" class="text-primary-accent font-medium flex items-center hover:underline transition-all group-hover:translate-x-2 duration-300">
                                <span class="lang-pt">Ver detalhes</span>
                                <span class="lang-en">See details</span>
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                                </svg>
                            </a>
                        </div>
                    </div>
                        </div>
                    </div>
                    
                    <!-- Service Item 2 -->
                    <div class="group" data-aos="fade-up" data-aos-delay="200" data-aos-duration="800">
                        <div class="bg-white rounded-2xl shadow-xl overflow-hidden transform transition-all duration-500 group-hover:-translate-y-3 group-hover:shadow-2xl relative">
                            <!-- Decorative accent element -->
                            <div class="absolute top-0 right-0 w-20 h-20 bg-gradient-to-bl from-purple-300 to-transparent rounded-bl-full opacity-70 z-0"></div>
                            
                            <div class="relative">
                                <div class="absolute inset-0 bg-gradient-to-b from-transparent to-black opacity-60 z-10"></div>
                                <img src="https://images.unsplash.com/photo-1552346154-21d32810aba3?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTV8fHNuZWFrZXJzfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=80" 
                                     alt="Extra Cleaning" class="w-full h-64 object-cover transition-all duration-500 group-hover:scale-110" />
                                <div class="absolute top-4 left-4 bg-purple-500 text-white text-xs font-bold px-3 py-1 rounded-full shadow-md uppercase tracking-wide z-20">
                            <span class="lang-pt">Mais vendido</span>
                            <span class="lang-en">Best seller</span>
                        </div>
                            </div>
                            <div class="p-6">
                                <h3 class="text-xl font-bold mb-3 text-text-primary">
                            <span class="lang-pt">Limpeza Extra</span>
                            <span class="lang-en">Extra Clean</span>
                        </h3>
                                <p class="text-text-secondary mb-4">
                            <span class="lang-pt">Inclui interior, palmilhas, higienização e pintura parcial para uma renovação completa.</span>
                            <span class="lang-en">Comprehensive cleaning including insole, lining, sanitizing, and partial painting.</span>
                        </p>
                                <div class="flex items-center justify-between mt-4">
                                    <p class="text-purple-500 font-bold text-2xl">30€</p>
                                    <a href="#pricing" class="text-purple-500 font-medium flex items-center hover:underline transition-all group-hover:translate-x-2 duration-300">
                                <span class="lang-pt">Ver detalhes</span>
                                <span class="lang-en">See details</span>
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                                </svg>
                            </a>
                        </div>
                    </div>
                        </div>
                    </div>
                    
                    <!-- Service Item 3 -->
                    <div class="group" data-aos="fade-up" data-aos-delay="300" data-aos-duration="800">
                        <div class="bg-white rounded-2xl shadow-xl overflow-hidden transform transition-all duration-500 group-hover:-translate-y-3 group-hover:shadow-2xl relative">
                            <!-- Decorative accent element -->
                            <div class="absolute top-0 right-0 w-20 h-20 bg-gradient-to-bl from-cyan-300 to-transparent rounded-bl-full opacity-70 z-0"></div>
                            
                            <div class="relative">
                                <div class="absolute inset-0 bg-gradient-to-b from-transparent to-black opacity-60 z-10"></div>
                                <img src="https://images.unsplash.com/photo-1542291026-7eec264c27ff?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTB8fHNuZWFrZXJzfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=80" 
                                     alt="Premium Cleaning" class="w-full h-64 object-cover transition-all duration-500 group-hover:scale-110" />
                                <div class="absolute top-4 left-4 bg-cyan-600 text-white text-xs font-bold px-3 py-1 rounded-full shadow-md uppercase tracking-wide z-20">
                            <span class="lang-pt">Premium</span>
                            <span class="lang-en">Premium</span>
                        </div>
                            </div>
                            <div class="p-6">
                                <h3 class="text-xl font-bold mb-3 text-text-primary">
                            <span class="lang-pt">Limpeza Premium</span>
                            <span class="lang-en">Premium Clean</span>
                        </h3>
                                <p class="text-text-secondary mb-4">
                            <span class="lang-pt">O nosso serviço mais detalhado. Inclui limpeza profunda, pintura total e restauro completo.</span>
                            <span class="lang-en">Our most detailed service. Includes deep cleaning, full painting, and complete restoration.</span>
                        </p>
                                <div class="flex items-center justify-between mt-4">
                                    <p class="text-cyan-600 font-bold text-2xl">45€</p>
                                    <a href="#pricing" class="text-cyan-600 font-medium flex items-center hover:underline transition-all group-hover:translate-x-2 duration-300">
                                <span class="lang-pt">Ver detalhes</span>
                                <span class="lang-en">See details</span>
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                                </svg>
                            </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- How It Works Section -->
        <section id="how-it-works" class="py-20 md:py-32 px-6 bg-gradient-to-tl from-background-medium via-blue-50 to-purple-50 relative overflow-hidden">
            <!-- Background decoration elements -->
            <div class="absolute top-0 right-0 w-72 h-72 bg-gradient-to-bl from-primary-accent to-purple-300 opacity-10 rounded-full -mr-32 -mt-32 blur-3xl"></div>
            <div class="absolute bottom-0 left-0 w-96 h-96 bg-gradient-to-tr from-primary-accent to-blue-300 opacity-10 rounded-full -ml-40 -mb-40 blur-3xl"></div>
            
            <div class="container mx-auto relative z-10">
                <div class="text-center mb-16" data-aos="fade-up" data-aos-duration="800">
                    <span class="text-primary-accent font-semibold text-sm uppercase tracking-wider px-4 py-1 rounded-full bg-primary-accent/10 inline-block">PROCESSO SIMPLES</span>
                    <h2 class="text-3xl sm:text-4xl font-bold mt-3 mb-6 text-text-primary">
                        <span class="lang-pt">Como <span class="text-primary-accent">Funciona</span></span>
                        <span class="lang-en">How It <span class="text-primary-accent">Works</span></span>
                    </h2>
                    <div class="w-20 h-1 bg-gradient-to-r from-primary-accent to-blue-400 mx-auto mb-6 rounded-full"></div>
                    <p class="text-text-secondary text-lg max-w-2xl mx-auto">
                        <span class="lang-pt">Dar aos teus ténis uma nova vida não podia ser mais simples. Segue estes passos:</span>
                        <span class="lang-en">Giving your sneakers new life couldn't be simpler. Follow these steps:</span>
                    </p>
                </div>
                
                <div class="relative">
                    <!-- Process timeline line -->
                    <div class="hidden md:block absolute top-24 left-0 w-full h-2 bg-gradient-to-r from-primary-accent via-purple-400 to-blue-400 rounded-full opacity-30 z-0"></div>
                    
                    <div class="grid md:grid-cols-3 gap-12 md:gap-8 relative z-10">
                    <!-- Step 1 -->
                        <div class="relative" data-aos="fade-right" data-aos-delay="100" data-aos-duration="1000">
                            <div class="w-16 h-16 md:w-20 md:h-20 bg-gradient-to-br from-primary-accent to-cyan-500 text-white rounded-full flex items-center justify-center mx-auto mb-6 text-2xl font-bold shadow-lg relative z-10">
                                <div class="absolute inset-0 bg-gradient-to-br from-primary-accent to-cyan-500 rounded-full animate-ping opacity-20"></div>
                                <span>1</span>
                        </div>
                            <div class="bg-white rounded-xl p-8 shadow-lg transform transition-all hover:-translate-y-2 duration-300 h-full border-t-4 border-primary-accent rounded-t-xl">
                                <h3 class="text-xl font-bold mb-4 text-text-primary text-center">
                            <span class="lang-pt">Deixa na Loja</span>
                            <span class="lang-en">Drop Off</span>
                        </h3>
                                <p class="text-text-secondary text-center">
                            <span class="lang-pt">Passa pela nossa loja na Avenida das Forças Armadas e deixa os teus ténis connosco. Sem complicações!</span>
                            <span class="lang-en">Visit our store on Avenida das Forças Armadas and leave your sneakers with us. No hassle!</span>
                        </p>
                    </div>
                        </div>
                        
                    <!-- Step 2 -->
                        <div class="relative" data-aos="fade-up" data-aos-delay="300" data-aos-duration="1000">
                            <div class="w-16 h-16 md:w-20 md:h-20 bg-gradient-to-br from-purple-500 to-purple-700 text-white rounded-full flex items-center justify-center mx-auto mb-6 text-2xl font-bold shadow-lg relative z-10">
                                <div class="absolute inset-0 bg-gradient-to-br from-purple-500 to-purple-700 rounded-full animate-ping opacity-20"></div>
                                <span>2</span>
                        </div>
                            <div class="bg-white rounded-xl p-8 shadow-lg transform transition-all hover:-translate-y-2 duration-300 h-full border-t-4 border-purple-500 rounded-t-xl">
                                <h3 class="text-xl font-bold mb-4 text-text-primary text-center">
                            <span class="lang-pt">Técnicas Avançadas</span>
                            <span class="lang-en">Expert Techniques</span>
                        </h3>
                                <p class="text-text-secondary text-center">
                            <span class="lang-pt">A nossa equipa utiliza processos especializados e produtos de alta qualidade para transformar o teu calçado.</span>
                            <span class="lang-en">Our team uses specialized processes and high-quality products to transform your footwear.</span>
                        </p>
                    </div>
                        </div>
                        
                    <!-- Step 3 -->
                        <div class="relative" data-aos="fade-left" data-aos-delay="500" data-aos-duration="1000">
                            <div class="w-16 h-16 md:w-20 md:h-20 bg-gradient-to-br from-cyan-500 to-blue-600 text-white rounded-full flex items-center justify-center mx-auto mb-6 text-2xl font-bold shadow-lg relative z-10">
                                <div class="absolute inset-0 bg-gradient-to-br from-cyan-500 to-blue-600 rounded-full animate-ping opacity-20"></div>
                                <span>3</span>
                        </div>
                            <div class="bg-white rounded-xl p-8 shadow-lg transform transition-all hover:-translate-y-2 duration-300 h-full border-t-4 border-cyan-500 rounded-t-xl">
                                <h3 class="text-xl font-bold mb-4 text-text-primary text-center">
                            <span class="lang-pt">Arrasa Com Estilo</span>
                            <span class="lang-en">Shine & Show Off</span>
                        </h3>
                                <p class="text-text-secondary text-center">
                            <span class="lang-pt">Recolhe os teus ténis renovados, prontos para dar nas vistas novamente nas ruas de Lisboa!</span>
                            <span class="lang-en">Pick up your revived kicks, ready to turn heads again on the streets of Lisbon!</span>
                        </p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="mt-16 max-w-3xl mx-auto" data-aos="zoom-in" data-aos-delay="300">
                    <div class="bg-white p-8 rounded-2xl shadow-lg relative overflow-hidden">
                        <!-- Decorative corner elements -->
                        <div class="absolute top-0 left-0 w-20 h-20 bg-gradient-to-br from-yellow-200 to-transparent rounded-br-full opacity-50"></div>
                        <div class="absolute bottom-0 right-0 w-20 h-20 bg-gradient-to-tl from-blue-200 to-transparent rounded-tl-full opacity-50"></div>
                        
                        <h3 class="text-xl font-bold mb-4 text-text-primary text-center">
                            <span class="lang-pt">Opções de Entrega Urgente</span>
                            <span class="lang-en">Rush Delivery Options</span>
                        </h3>
                        <p class="text-text-secondary text-center mb-6">
                            <span class="lang-pt">Prazo normal: 10 dias úteis. Precisas mais rápido? Temos opções disponíveis:</span>
                            <span class="lang-en">Standard turnaround: 10 business days. Need it faster? We have options:</span>
                        </p>
                        <div class="grid grid-cols-3 gap-4 text-center">
                            <div class="bg-gradient-to-br from-background-medium to-blue-50 p-5 rounded-xl transform transition-all hover:scale-105 duration-300">
                                <div class="font-bold mb-1">5 dias</div>
                                <div class="text-primary-accent text-lg font-semibold">+5€</div>
                            </div>
                            <div class="bg-gradient-to-br from-background-medium to-purple-50 p-5 rounded-xl transform transition-all hover:scale-105 duration-300">
                                <div class="font-bold mb-1">48 horas</div>
                                <div class="text-purple-500 text-lg font-semibold">+10€</div>
                            </div>
                            <div class="bg-gradient-to-br from-background-medium to-cyan-50 p-5 rounded-xl transform transition-all hover:scale-105 duration-300">
                                <div class="font-bold mb-1">24 horas</div>
                                <div class="text-cyan-600 text-lg font-semibold">+20€</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Pricing Section -->
        <section id="pricing" class="py-16 md:py-24 px-6 bg-background-light dark:bg-background-dark">
            <div class="container mx-auto">
                <div 
                    class="opacity-0 translate-y-4 transition-all duration-700 ease-out"
                    x-data="{ shown: false }" x-intersect.once.threshold.0.3="shown = true"
                    :class="{ 'opacity-100 !translate-y-0': shown }">
                    <h2 class="text-3xl sm:text-4xl font-bold text-center mb-12 md:mb-16 text-text-primary dark:text-text-inverse">
                        <span class="lang-pt">Preços Transparentes</span>
                        <span class="lang-en">Transparent Pricing</span>
                    </h2>
                </div>
                <div 
                    class="max-w-2xl mx-auto bg-white dark:bg-background-dark p-8 md:p-10 rounded-xl shadow-xl opacity-0 scale-95 transition-all duration-500 ease-out delay-200"
                    x-data="{ shown: false }" x-intersect.once.threshold.0.2="shown = true"
                    :class="{ 'opacity-100 !scale-100': shown }">
                    <ul class="space-y-5">
                        <li class="flex justify-between items-center border-b border-border-ui pb-4">
                            <div>
                                <span class="text-lg text-text-primary dark:text-text-inverse font-medium">
                                    <span class="lang-pt">Limpeza Standard</span>
                                    <span class="lang-en">Standard Clean</span>
                                </span>
                                <p class="text-sm text-text-secondary dark:text-gray-300 mt-1">
                                    <span class="lang-pt">Exterior, Solas, Atacadores</span>
                                    <span class="lang-en">Exterior, Sole, Laces</span>
                                </p>
                            </div>
                            <span class="text-lg font-semibold text-primary-accent">25€</span>
                        </li>
                        <li class="flex justify-between items-center border-b border-border-ui pb-4">
                            <div>
                                <span class="text-lg text-text-primary dark:text-text-inverse font-medium">
                                    <span class="lang-pt">Limpeza Extra</span>
                                    <span class="lang-en">Extra Clean</span>
                                </span>
                                <p class="text-sm text-text-secondary dark:text-gray-300 mt-1">
                                    <span class="lang-pt">+ Interior, Palmilhas, Higienização, Pintura Parcial</span>
                                    <span class="lang-en">+ Interior, Insoles, Sanitation, Partial Painting</span>
                                </p>
                            </div>
                            <span class="text-lg font-semibold text-purple-500">30€</span>
                        </li>
                        <li class="flex justify-between items-center border-b border-border-ui pb-4">
                            <div>
                                <span class="text-lg text-text-primary dark:text-text-inverse font-medium">
                                    <span class="lang-pt">Limpeza Premium</span>
                                    <span class="lang-en">Premium Clean</span>
                                </span>
                                <p class="text-sm text-text-secondary dark:text-gray-300 mt-1">
                                    <span class="lang-pt">+ Pintura Completa e Restauração</span>
                                    <span class="lang-en">+ Full Painting and Restoration</span>
                                </p>
                            </div>
                            <span class="text-lg font-semibold text-cyan-600">45€</span>
                        </li>
                    </ul>
                    <div class="mt-8 pt-4 border-t border-border-ui">
                        <h3 class="text-lg font-semibold text-text-primary dark:text-text-inverse mb-3">
                            <span class="lang-pt">Taxas Adicionais</span>
                            <span class="lang-en">Additional Fees</span>
                        </h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <h4 class="text-base font-medium text-text-primary dark:text-text-inverse">
                                    <span class="lang-pt">Materiais</span>
                                    <span class="lang-en">Materials</span>
                                </h4>
                                <p class="text-sm text-text-secondary dark:text-gray-300">
                                    <span class="lang-pt">Camurça/Nubuck:</span>
                                    <span class="lang-en">Suede/Nubuck:</span>
                                    +10€
                                </p>
                                <p class="text-sm text-text-secondary dark:text-gray-300">
                                    <span class="lang-pt">Branqueamento de Solas:</span>
                                    <span class="lang-en">Sole Whitening:</span>
                                    +5€
                                </p>
                            </div>
                            <div>
                                <h4 class="text-base font-medium text-text-primary dark:text-text-inverse">
                                    <span class="lang-pt">Urgência</span>
                                    <span class="lang-en">Urgency</span>
                                </h4>
                                <p class="text-sm text-text-secondary dark:text-gray-300">
                                    <span class="lang-pt">5 Dias Úteis:</span>
                                    <span class="lang-en">5 Business Days:</span>
                                    +5€
                                </p>
                                <p class="text-sm text-text-secondary dark:text-gray-300">
                                    <span class="lang-pt">48 Horas:</span>
                                    <span class="lang-en">48 Hours:</span>
                                    +10€
                                </p>
                                <p class="text-sm text-text-secondary dark:text-gray-300">
                                    <span class="lang-pt">24 Horas:</span>
                                    <span class="lang-en">24 Hours:</span>
                                    +20€
                                </p>
                            </div>
                        </div>
                    </div>
                    <p class="text-sm text-text-secondary dark:text-gray-300 mt-6 text-center">
                        <span class="lang-pt">Prazo normal de entrega: 10 dias úteis.</span>
                        <span class="lang-en">Standard service time: 10 business days.</span>
                    </p>
                </div>
                 <div 
                    class="text-center mt-12 opacity-0 translate-y-4 transition-all duration-700 ease-out delay-400"
                    x-data="{ shown: false }" x-intersect.once.threshold.0.3="shown = true"
                    :class="{ 'opacity-100 !translate-y-0': shown }">
                    <a href="src/contact.html"
                       tabindex="0"
                       aria-label="Contact us for a custom quote"
                       class="bg-primary-accent text-white font-semibold py-3 px-8 rounded-lg shadow-md hover:bg-primary-accent-hover transition-all duration-300 ease-in-out text-lg transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-primary-accent focus:ring-opacity-75">
                       <span class="lang-pt">Obter Orçamento Personalizado</span>
                       <span class="lang-en">Get Custom Quote</span>
                    </a>
                </div>
            </div>
        </section>

        <!-- Before/After Section -->
        <section id="before-after" class="py-20 md:py-28 px-6 bg-gradient-to-br from-background-light via-white to-purple-50 dark:from-background-dark dark:via-background-dark dark:to-purple-900/20 overflow-hidden">
        <div class="container mx-auto">
                <div class="text-center mb-16" data-aos="fade-up" data-aos-duration="800">
                    <span class="text-primary-accent font-semibold text-sm uppercase tracking-wider px-4 py-1 rounded-full bg-primary-accent/10 inline-block">RESULTADOS INCRÍVEIS</span>
                    <h2 class="text-3xl sm:text-4xl font-bold mt-3 mb-6 text-text-primary dark:text-white">
                        <span class="lang-pt">Antes & <span class="text-primary-accent">Depois</span></span>
                        <span class="lang-en">Before & <span class="text-primary-accent">After</span></span>
                    </h2>
                    <div class="w-20 h-1 bg-gradient-to-r from-primary-accent to-purple-500 mx-auto mb-6 rounded-full"></div>
                    <p class="text-text-secondary dark:text-gray-300 text-lg max-w-2xl mx-auto">
                        <span class="lang-pt">Vê os nossos resultados mais impressionantes. Transformações reais!</span>
                        <span class="lang-en">Check out our most impressive results. Real transformations!</span>
                    </p>
                </div>
                
                <!-- Animated Sneakers Gallery -->
                <div class="relative">
                    <!-- First row - left to right -->
                    <div class="flex space-x-8 animate-marquee">
                        <div class="flex-shrink-0 w-64 h-64 relative group" data-aos="fade-up" data-aos-delay="100">
                            <div class="absolute inset-0 bg-gradient-to-tr from-primary-accent/30 to-purple-500/30 rounded-xl blur-lg transform rotate-6 scale-95 transition-all duration-500 group-hover:scale-105 group-hover:rotate-12"></div>
                            <div class="relative h-full rounded-xl overflow-hidden shadow-lg transform transition-all duration-500 group-hover:scale-105 group-hover:-rotate-2">
                                <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent flex items-end p-4">
                                    <div class="text-white">
                                        <h3 class="font-bold">Nike Air Force 1</h3>
                                        <p class="text-sm opacity-80">Complete Restoration</p>
                                    </div>
                                </div>
                                <img 
                                    src="https://images.unsplash.com/photo-1595950653106-6c9ebd614d3a?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" 
                                    alt="Clean Nike Air Force 1 sneakers" 
                                    class="w-full h-full object-cover"
                                    loading="lazy"
                                />
                            </div>
                        </div>
                        
                        <div class="flex-shrink-0 w-64 h-64 relative group" data-aos="fade-up" data-aos-delay="200">
                            <div class="absolute inset-0 bg-gradient-to-tr from-blue-500/30 to-primary-accent/30 rounded-xl blur-lg transform rotate-6 scale-95 transition-all duration-500 group-hover:scale-105 group-hover:rotate-12"></div>
                            <div class="relative h-full rounded-xl overflow-hidden shadow-lg transform transition-all duration-500 group-hover:scale-105 group-hover:-rotate-2">
                                <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent flex items-end p-4">
                                    <div class="text-white">
                                        <h3 class="font-bold">Adidas Ultraboost</h3>
                                        <p class="text-sm opacity-80">Deep Clean</p>
                                    </div>
                                </div>
                                <img 
                                    src="https://images.unsplash.com/photo-1600269452121-4f2416e55c28?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" 
                                    alt="Clean Adidas Ultraboost sneakers" 
                                    class="w-full h-full object-cover"
                                    loading="lazy"
                                />
                            </div>
                        </div>
                        
                        <div class="flex-shrink-0 w-64 h-64 relative group" data-aos="fade-up" data-aos-delay="300">
                            <div class="absolute inset-0 bg-gradient-to-tr from-purple-500/30 to-pink-500/30 rounded-xl blur-lg transform rotate-6 scale-95 transition-all duration-500 group-hover:scale-105 group-hover:rotate-12"></div>
                            <div class="relative h-full rounded-xl overflow-hidden shadow-lg transform transition-all duration-500 group-hover:scale-105 group-hover:-rotate-2">
                                <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent flex items-end p-4">
                                    <div class="text-white">
                                        <h3 class="font-bold">Jordan 1 Retro</h3>
                                        <p class="text-sm opacity-80">Premium Clean</p>
                                    </div>
                                </div>
                                <img 
                                    src="https://images.unsplash.com/photo-1552346154-21d32810aba3?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" 
                                    alt="Clean Jordan 1 Retro sneakers" 
                                    class="w-full h-full object-cover"
                                    loading="lazy"
                                />
                            </div>
                        </div>
                        
                        <div class="flex-shrink-0 w-64 h-64 relative group" data-aos="fade-up" data-aos-delay="400">
                            <div class="absolute inset-0 bg-gradient-to-tr from-cyan-500/30 to-blue-500/30 rounded-xl blur-lg transform rotate-6 scale-95 transition-all duration-500 group-hover:scale-105 group-hover:rotate-12"></div>
                            <div class="relative h-full rounded-xl overflow-hidden shadow-lg transform transition-all duration-500 group-hover:scale-105 group-hover:-rotate-2">
                                <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent flex items-end p-4">
                                    <div class="text-white">
                                        <h3 class="font-bold">Converse Chuck 70</h3>
                                        <p class="text-sm opacity-80">Color Restoration</p>
                                    </div>
                                </div>
                                <img 
                                    src="https://images.unsplash.com/photo-1542291026-7eec264c27ff?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" 
                                    alt="Clean Converse Chuck 70 sneakers" 
                                    class="w-full h-full object-cover"
                                    loading="lazy"
                                />
                            </div>
                        </div>
                        
                        <!-- Duplicate first few items for seamless infinite scroll -->
                        <div class="flex-shrink-0 w-64 h-64 relative group" data-aos="fade-up" data-aos-delay="100">
                            <div class="absolute inset-0 bg-gradient-to-tr from-primary-accent/30 to-purple-500/30 rounded-xl blur-lg transform rotate-6 scale-95 transition-all duration-500 group-hover:scale-105 group-hover:rotate-12"></div>
                            <div class="relative h-full rounded-xl overflow-hidden shadow-lg transform transition-all duration-500 group-hover:scale-105 group-hover:-rotate-2">
                                <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent flex items-end p-4">
                                    <div class="text-white">
                                        <h3 class="font-bold">Nike Air Force 1</h3>
                                        <p class="text-sm opacity-80">Complete Restoration</p>
                                    </div>
                                </div>
                                <img 
                                    src="https://images.unsplash.com/photo-1595950653106-6c9ebd614d3a?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" 
                                    alt="Clean Nike Air Force 1 sneakers" 
                                    class="w-full h-full object-cover"
                                    loading="lazy"
                                />
                            </div>
                        </div>
                    </div>
                    
                    <!-- Second row - right to left (reversed) -->
                    <div class="flex space-x-8 animate-marquee-reverse mt-8">
                        <div class="flex-shrink-0 w-64 h-64 relative group" data-aos="fade-up" data-aos-delay="150">
                            <div class="absolute inset-0 bg-gradient-to-tr from-yellow-500/30 to-orange-500/30 rounded-xl blur-lg transform rotate-6 scale-95 transition-all duration-500 group-hover:scale-105 group-hover:rotate-12"></div>
                            <div class="relative h-full rounded-xl overflow-hidden shadow-lg transform transition-all duration-500 group-hover:scale-105 group-hover:-rotate-2">
                                <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent flex items-end p-4">
                                    <div class="text-white">
                                        <h3 class="font-bold">New Balance 550</h3>
                                        <p class="text-sm opacity-80">Deep Clean & Sole Whitening</p>
                                    </div>
                                </div>
                                <img 
                                    src="https://images.unsplash.com/photo-1539185441755-769473a23570?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" 
                                    alt="Clean New Balance 550 sneakers" 
                                    class="w-full h-full object-cover"
                                    loading="lazy"
                                />
                            </div>
                        </div>
                        
                        <div class="flex-shrink-0 w-64 h-64 relative group" data-aos="fade-up" data-aos-delay="250">
                            <div class="absolute inset-0 bg-gradient-to-tr from-green-500/30 to-teal-500/30 rounded-xl blur-lg transform rotate-6 scale-95 transition-all duration-500 group-hover:scale-105 group-hover:rotate-12"></div>
                            <div class="relative h-full rounded-xl overflow-hidden shadow-lg transform transition-all duration-500 group-hover:scale-105 group-hover:-rotate-2">
                                <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent flex items-end p-4">
                                    <div class="text-white">
                                        <h3 class="font-bold">Yeezy Boost 350</h3>
                                        <p class="text-sm opacity-80">Premium Clean</p>
                                    </div>
                                </div>
                                <img 
                                    src="https://images.unsplash.com/photo-1604671801908-6f0c6a092c05?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" 
                                    alt="Clean Yeezy Boost 350 sneakers" 
                                    class="w-full h-full object-cover"
                                    loading="lazy"
                                />
                            </div>
                        </div>
                        
                        <div class="flex-shrink-0 w-64 h-64 relative group" data-aos="fade-up" data-aos-delay="350">
                            <div class="absolute inset-0 bg-gradient-to-tr from-red-500/30 to-pink-500/30 rounded-xl blur-lg transform rotate-6 scale-95 transition-all duration-500 group-hover:scale-105 group-hover:rotate-12"></div>
                            <div class="relative h-full rounded-xl overflow-hidden shadow-lg transform transition-all duration-500 group-hover:scale-105 group-hover:-rotate-2">
                                <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent flex items-end p-4">
                                    <div class="text-white">
                                        <h3 class="font-bold">Vans Old Skool</h3>
                                        <p class="text-sm opacity-80">Standard Clean</p>
                                    </div>
                                </div>
                                <img 
                                    src="https://images.unsplash.com/photo-1525966222134-fcfa99b8ae77?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" 
                                    alt="Clean Vans Old Skool sneakers" 
                                    class="w-full h-full object-cover"
                                    loading="lazy"
                                />
                            </div>
                        </div>
                        
                        <div class="flex-shrink-0 w-64 h-64 relative group" data-aos="fade-up" data-aos-delay="450">
                            <div class="absolute inset-0 bg-gradient-to-tr from-purple-500/30 to-indigo-500/30 rounded-xl blur-lg transform rotate-6 scale-95 transition-all duration-500 group-hover:scale-105 group-hover:rotate-12"></div>
                            <div class="relative h-full rounded-xl overflow-hidden shadow-lg transform transition-all duration-500 group-hover:scale-105 group-hover:-rotate-2">
                                <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent flex items-end p-4">
                                    <div class="text-white">
                                        <h3 class="font-bold">Nike Dunk Low</h3>
                                        <p class="text-sm opacity-80">Extra Clean</p>
                                    </div>
                                </div>
                                <img 
                                    src="https://images.unsplash.com/photo-1549298916-b41d501d3772?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" 
                                    alt="Clean Nike Dunk Low sneakers" 
                                    class="w-full h-full object-cover"
                                    loading="lazy"
                                />
                            </div>
                        </div>
                        
                        <!-- Duplicate first few items for seamless infinite scroll -->
                        <div class="flex-shrink-0 w-64 h-64 relative group" data-aos="fade-up" data-aos-delay="150">
                            <div class="absolute inset-0 bg-gradient-to-tr from-yellow-500/30 to-orange-500/30 rounded-xl blur-lg transform rotate-6 scale-95 transition-all duration-500 group-hover:scale-105 group-hover:rotate-12"></div>
                            <div class="relative h-full rounded-xl overflow-hidden shadow-lg transform transition-all duration-500 group-hover:scale-105 group-hover:-rotate-2">
                                <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent flex items-end p-4">
                                    <div class="text-white">
                                        <h3 class="font-bold">New Balance 550</h3>
                                        <p class="text-sm opacity-80">Deep Clean & Sole Whitening</p>
                                    </div>
                                </div>
                                <img 
                                    src="https://images.unsplash.com/photo-1539185441755-769473a23570?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" 
                                    alt="Clean New Balance 550 sneakers" 
                                    class="w-full h-full object-cover"
                                    loading="lazy"
                                />
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Call to Action -->
                <div class="mt-16 text-center">
                    <a href="#pricing" class="bg-primary-accent text-white font-semibold py-3 px-8 rounded-lg shadow-md hover:bg-primary-accent-hover transition-all duration-300 ease-in-out text-lg transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-primary-accent focus:ring-opacity-75">
                        <span class="lang-pt">Ver nossos serviços</span>
                        <span class="lang-en">See our services</span>
                    </a>
                </div>
            </div>
        </section>

        <style>
        /* Add animations for the Before & After section */
        @keyframes marquee {
          0% { transform: translateX(0); }
          100% { transform: translateX(-100%); }
        }

        @keyframes marquee-reverse {
          0% { transform: translateX(-100%); }
          100% { transform: translateX(0); }
        }

        .animate-marquee {
          animation: marquee 30s linear infinite;
          min-width: 100%;
        }

        .animate-marquee-reverse {
          animation: marquee-reverse 30s linear infinite;
          min-width: 100%;
        }
        </style>

        <!-- Location Section -->
        <section id="visit-us" class="py-16 md:py-24 px-6 bg-background-medium dark:bg-background-dark">
            <div class="container mx-auto">
                <div 
                    class="opacity-0 translate-y-4 transition-all duration-700 ease-out"
                    x-data="{ shown: false }" x-intersect.once.threshold.0.3="shown = true"
                    :class="{ 'opacity-100 !translate-y-0': shown }">
                    <h2 class="text-3xl sm:text-4xl font-bold text-center mb-8 text-text-primary dark:text-text-inverse">
                        <span class="lang-pt">Visite-nos</span>
                        <span class="lang-en">Visit Us</span>
                    </h2>
                    <p class="text-center text-text-secondary dark:text-gray-300 text-lg mb-12 max-w-2xl mx-auto">
                        <span class="lang-pt">Estamos localizados numa área central de Lisboa, com fácil acesso por transportes públicos.</span>
                        <span class="lang-en">We're located in a central area of Lisbon, easily accessible by public transport.</span>
                    </p>
                </div>
                
                <div class="grid md:grid-cols-2 gap-12 items-center">
                    <div class="opacity-0 translate-y-4 transition-all duration-700 ease-out delay-100"
                         x-data="{ shown: false }" x-intersect.once.threshold.0.3="shown = true"
                         :class="{ 'opacity-100 !translate-y-0': shown }">
                        <div class="bg-white dark:bg-background-medium p-8 md:p-10 rounded-xl shadow-lg">
                            <h3 class="text-xl font-semibold mb-5 text-text-primary dark:text-text-inverse">
                                <span class="lang-pt">Horário de Funcionamento</span>
                                <span class="lang-en">Opening Hours</span>
                            </h3>
                            <div class="space-y-3">
                                <div class="flex justify-between border-b border-border-ui dark:border-gray-700 pb-2">
                                    <span class="text-text-secondary dark:text-gray-300">
                                        <span class="lang-pt">Segunda-feira</span>
                                        <span class="lang-en">Monday</span>
                                    </span>
                                    <span class="font-medium text-text-primary dark:text-text-inverse">
                                        <span class="lang-pt">Fechado</span>
                                        <span class="lang-en">Closed</span>
                                    </span>
                                </div>
                                <div class="flex justify-between border-b border-border-ui dark:border-gray-700 pb-2">
                                    <span class="text-text-secondary dark:text-gray-300">
                                        <span class="lang-pt">Terça a Sábado</span>
                                        <span class="lang-en">Tuesday to Saturday</span>
                                    </span>
                                    <span class="font-medium text-text-primary dark:text-text-inverse">10:30 - 19:00</span>
                                </div>
                                <div class="flex justify-between border-b border-border-ui dark:border-gray-700 pb-2">
                                    <span class="text-text-secondary dark:text-gray-300">
                                        <span class="lang-pt">Domingo</span>
                                        <span class="lang-en">Sunday</span>
                                    </span>
                                    <span class="font-medium text-text-primary dark:text-text-inverse">
                                        <span class="lang-pt">Fechado</span>
                                        <span class="lang-en">Closed</span>
                                    </span>
                                </div>
                            </div>
                            
                            <h3 class="text-xl font-semibold mt-8 mb-5 text-text-primary dark:text-text-inverse">
                                <span class="lang-pt">Endereço</span>
                                <span class="lang-en">Address</span>
                            </h3>
                            <p class="text-text-secondary dark:text-gray-300 mb-1">Avenida das Forças Armadas 51</p>
                            <p class="text-text-secondary dark:text-gray-300 mb-4">1600-121 Lisboa</p>
                            
                            <h3 class="text-xl font-semibold mt-8 mb-5 text-text-primary dark:text-text-inverse">
                                <span class="lang-pt">Contacto</span>
                                <span class="lang-en">Contact</span>
                            </h3>
                            <p class="text-text-secondary dark:text-gray-300 mb-1">
                                <span class="lang-pt">Telefone:</span>
                                <span class="lang-en">Phone:</span> 
                                <a href="tel:+351910697252" class="text-primary-accent hover:underline">+351 910 697 252</a>
                            </p>
                            <p class="text-text-secondary dark:text-gray-300">Email: <a href="mailto:cleaning@solve.com" class="text-primary-accent hover:underline">cleaning@solve.com</a></p>
                        </div>
                    </div>
                    
                    <div class="opacity-0 translate-y-4 transition-all duration-700 ease-out delay-200"
                         x-data="{ shown: false }" x-intersect.once.threshold.0.3="shown = true"
                         :class="{ 'opacity-100 !translate-y-0': shown }">
                        <div class="bg-white dark:bg-background-medium h-80 md:h-96 rounded-xl overflow-hidden shadow-lg relative">
                            <!-- Interactive Google Maps -->
                            <iframe 
                                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3110.7668319022968!2d-9.154297223256418!3d38.74720597176835!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0xd1932e23ed9e219%3A0x61864e07d1222c06!2sAv.%20das%20For%C3%A7as%20Armadas%2051%2C%201600-121%20Lisboa%2C%20Portugal!5e0!3m2!1sen!2sus!4v1715553380981!5m2!1sen!2sus" 
                                width="100%" 
                                height="100%" 
                                style="border:0;" 
                                allowfullscreen="" 
                                loading="lazy" 
                                referrerpolicy="no-referrer-when-downgrade"
                                title="Google Maps showing Solve. store location"
                                class="w-full h-full"
                                aria-label="Interactive map showing the location of Solve. store">
                            </iframe>
                        </div>
                        <div class="mt-6 text-center">
                            <a href="https://maps.google.com/?q=Avenida+das+Forças+Armadas+51,+1600-121+Lisboa" target="_blank"
                               tabindex="0"
                               aria-label="Get directions on Google Maps"
                               class="inline-block bg-primary-accent text-white font-medium py-2 px-6 rounded-lg shadow-md hover:bg-primary-accent-hover transition-all duration-300 ease-in-out transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-primary-accent focus:ring-opacity-75">
                                <span class="lang-pt">Abrir no Google Maps</span>
                                <span class="lang-en">Open in Google Maps</span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="py-10 px-6 text-center bg-gradient-to-br from-gray-900 to-gray-800 relative overflow-hidden">
        <!-- Decorative elements -->
        <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-primary-accent via-purple-500 to-blue-500"></div>
        <div class="absolute top-10 right-10 w-32 h-32 bg-blue-500 rounded-full blur-3xl opacity-10"></div>
        <div class="absolute bottom-10 left-10 w-40 h-40 bg-purple-500 rounded-full blur-3xl opacity-10"></div>
        
        <div class="container mx-auto relative z-10">
            <div class="mb-8">
                <a href="#home" class="inline-block mb-6" aria-label="Solve. Home">
                    <svg aria-hidden="true" focusable="false" class="h-10 w-auto" viewBox="0 0 130 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <style>
                    .solve-logo-text-footer { font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji'; font-size: 30px; font-weight: 700; letter-spacing: -0.5px; }
                    </style>
                    <text x="0" y="28" class="solve-logo-text-footer fill-text-inverse">Solve</text>
                        <text x="78" y="28" class="solve-logo-text-footer logo-text-accent">.</text>
                        <path d="M100 12 Q102 10 104 12 L106 15 Q108 13 110 15 L112 18 Q110 20 112 22 L110 25 Q108 27 106 25 L104 22 Q102 24 100 22 L102 18 Q100 16 102 18 Z" class="logo-icon opacity-75 transform rotate-12" transform-origin="106 18.5"/>
                </svg>
            </a>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 md:gap-4 mb-8 text-left" data-aos="fade-up" data-aos-delay="100">
                <div class="bg-gray-800/50 p-6 rounded-2xl backdrop-blur-sm">
                    <h3 class="text-lg font-semibold mb-3 text-white">
                        <span class="lang-pt">Localização</span>
                        <span class="lang-en">Location</span>
                    </h3>
                    <p class="text-gray-300">Avenida das Forças Armadas 51</p>
                    <p class="text-gray-300">1600-121 Lisboa</p>
                </div>
                <div class="bg-gray-800/50 p-6 rounded-2xl backdrop-blur-sm">
                    <h3 class="text-lg font-semibold mb-3 text-white">
                        <span class="lang-pt">Horário</span>
                        <span class="lang-en">Hours</span>
                    </h3>
                    <p class="text-gray-300">
                        <span class="lang-pt">Terça a Sábado</span>
                        <span class="lang-en">Tuesday to Saturday</span>
                    </p>
                    <p class="text-gray-300">10:30 - 19:00</p>
                </div>
                <div class="bg-gray-800/50 p-6 rounded-2xl backdrop-blur-sm">
                    <h3 class="text-lg font-semibold mb-3 text-white">
                        <span class="lang-pt">Contacto</span>
                        <span class="lang-en">Contact</span>
                    </h3>
                    <p class="text-gray-300">Email: <a href="mailto:cleaning@solve.com" class="text-primary-accent hover:underline">cleaning@solve.com</a></p>
                    <p class="text-gray-300">
                        <span class="lang-pt">Telefone:</span>
                        <span class="lang-en">Phone:</span>
                        <a href="tel:+351910697252" class="text-primary-accent hover:underline">+351 910 697 252</a>
                    </p>
                    
                    <div class="flex mt-4 space-x-3">
                        <a href="https://www.instagram.com/kolabclean/" target="_blank" rel="noopener noreferrer" class="bg-gradient-to-br from-purple-600 to-pink-500 w-10 h-10 flex items-center justify-center rounded-full hover:scale-110 transition-all duration-300" aria-label="Instagram">
                            <i class="fa fa-instagram text-white"></i>
                        </a>
                        <a href="#" class="bg-gradient-to-br from-blue-600 to-blue-400 w-10 h-10 flex items-center justify-center rounded-full hover:scale-110 transition-all duration-300" aria-label="Facebook">
                            <i class="fa fa-facebook text-white"></i>
                        </a>
                        <a href="#" class="bg-gradient-to-br from-green-600 to-green-400 w-10 h-10 flex items-center justify-center rounded-full hover:scale-110 transition-all duration-300" aria-label="WhatsApp">
                            <i class="fa fa-whatsapp text-white"></i>
                        </a>
                    </div>
                </div>
            </div>
            
            <div class="border-t border-gray-700 pt-6 flex flex-wrap justify-between items-center">
                <p class="text-sm text-gray-400">&copy; <span id="currentYear"></span> Solve. All rights reserved.</p>
                <p class="text-xs mt-2 text-gray-400 opacity-75">Lovingly crafted with Tailwind CSS & Alpine.js</p>
            </div>
        </div>
    </footer>

    <script>
        // Make sure Alpine.js and its plugins are properly initialized
        document.addEventListener('DOMContentLoaded', () => {
            // Enhanced AOS animations with proper settings
            AOS.init({
                duration: 800,
                easing: 'ease-in-out',
                once: false,
                mirror: true,
                anchorPlacement: 'top-bottom',
                startEvent: 'DOMContentLoaded',
                // Using single numeric values for delay instead of expressions
                delay: 100
            });
            
            // Set up all navigation link hover effects
            const navLinks = document.querySelectorAll('.fancy-nav-item');
            navLinks.forEach(link => {
                link.addEventListener('mouseenter', () => {
                    link.style.color = 'var(--primary-accent)';
                });
                link.addEventListener('mouseleave', () => {
                    if (!link.classList.contains('active')) {
                        link.style.color = 'var(--text-primary)';
                    }
                });
            });
            
            // Handle the current year display for copyright
            const yearElement = document.getElementById('currentYear');
            if (yearElement) yearElement.textContent = new Date().getFullYear();
            
            // Handle smooth scrolling for anchor links with improved behavior
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function(e) {
                    const targetId = this.getAttribute('href');
                    if (targetId.startsWith('#')) {
                        const targetElement = document.querySelector(targetId);
                        if (targetElement) {
                            e.preventDefault();
                            setTimeout(() => {
                                window.scrollTo({
                                    top: targetElement.offsetTop - 80, // Account for header height
                                    behavior: 'smooth'
                                });
                            }, this.closest('.md\\:hidden[x-show]') ? 50 : 0);
                        }
                    }
                });
            });
            
            // Initialize correct state for theme toggle buttons and apply theme
            const darkModeToggles = document.querySelectorAll('.dark-mode-toggle input[type="checkbox"]');
            const currentTheme = document.documentElement.getAttribute('data-theme') || localStorage.getItem('theme') || 'light';
            
            // Apply saved theme on page load (important for dark mode)
            document.documentElement.setAttribute('data-theme', currentTheme);
            
            // Update toggle states
            darkModeToggles.forEach(toggle => {
                toggle.checked = currentTheme === 'dark';
            });
            
            // Make sure all proper dark mode classes are applied
            if (currentTheme === 'dark') {
                document.body.classList.add('dark');
                document.documentElement.classList.add('dark');
                document.querySelectorAll('.logo-text-main').forEach(el => {
                    el.setAttribute('fill', '#ffffff');
                });
            } else {
                document.body.classList.remove('dark');
                document.documentElement.classList.remove('dark');
                document.querySelectorAll('.logo-text-main').forEach(el => {
                    el.setAttribute('fill', '#2D3748');
                });
            }
            
            // Initialize language button states
                const currentLang = document.documentElement.getAttribute('data-lang');
                document.querySelectorAll('.lang-btn').forEach(btn => {
                    if ((btn.textContent.trim() === 'PT' && currentLang === 'pt') ||
                        (btn.textContent.trim() === 'EN' && currentLang === 'en')) {
                        btn.classList.add('active');
                    } else {
                        btn.classList.remove('active');
                }
            });
            
            // Handle video error
            const videoElement = document.querySelector('.video-bg');
            if (videoElement) {
                videoElement.addEventListener('error', () => {
                    // Handle video error by applying a fallback background
                    const container = document.querySelector('.video-bg-container');
                    if (container) {
                        container.style.backgroundColor = '#00A99D';
                        videoElement.style.display = 'none';
                    }
                });
            }

            // Modified: Only apply parallax effect to the video background, not the hero content
            window.addEventListener('scroll', () => {
                const scrollY = window.scrollY;
                const heroSection = document.querySelector('#home');
                
                if (heroSection && scrollY < window.innerHeight) {
                    const videoBg = heroSection.querySelector('.video-bg');
                    if (videoBg) {
                        // Subtle parallax effect on video only
                        videoBg.style.transform = `scale(${1 + scrollY * 0.0005})`;
                    }
                }
                });
            });
            
        // Enhanced theme toggle function to fix dark mode on index
        function toggleTheme() {
            const currentTheme = document.documentElement.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            
            // Set theme attribute on HTML element
            document.documentElement.setAttribute('data-theme', newTheme);
            
            // Store in localStorage for persistence
            localStorage.setItem('theme', newTheme);
            
            // Add or remove dark class on body and html (important for dark mode)
            if (newTheme === 'dark') {
                document.body.classList.add('dark');
                document.documentElement.classList.add('dark');
                // Fix logo text color in dark mode
                document.querySelectorAll('.logo-text-main').forEach(el => {
                    el.setAttribute('fill', '#ffffff');
                });
            } else {
                document.body.classList.remove('dark');
                document.documentElement.classList.remove('dark');
                // Reset logo text color in light mode
                document.querySelectorAll('.logo-text-main').forEach(el => {
                    el.setAttribute('fill', '#2D3748');
                });
            }
            
            // Update all toggles
            const toggles = document.querySelectorAll('.dark-mode-toggle input[type="checkbox"]');
            toggles.forEach(toggle => {
                toggle.checked = newTheme === 'dark';
                    });
        }
    </script>

    <!-- Instagram Embed Script -->
    <script async src="https://www.instagram.com/embed.js"></script>
    <script>
        // Initialize Instagram embeds properly when loaded
        document.addEventListener('DOMContentLoaded', function() {
            // Process Instagram embeds when page loads
            if (window.instgrm) {
                window.instgrm.Embeds.process();
            }
            
            // Add interactive behavior to video overlays
            const videoGroups = document.querySelectorAll('.group');
            videoGroups.forEach(group => {
                const overlay = group.querySelector('.inset-0');
                const iframe = group.querySelector('iframe');
                
                if (overlay && iframe) {
                    // Enhance hover effect
                    group.addEventListener('mouseenter', () => {
                        overlay.style.opacity = '0';
                    });
                    
                    group.addEventListener('mouseleave', () => {
                        overlay.style.opacity = '1';
            });
            
                    // Handle click on overlay to focus the iframe
                    overlay.addEventListener('click', (e) => {
                        e.preventDefault();
                        overlay.style.opacity = '0';
                        overlay.style.pointerEvents = 'none';
                        
                        // Ensure Instagram embed is properly loaded
                        if (window.instgrm) {
                            window.instgrm.Embeds.process();
                        }
                        
                        // Try to focus iframe for better interaction
                        if (iframe) {
                            iframe.focus();
                            
                            // Add a message to iframe to try to play (may not work due to cross-origin restrictions)
                            try {
                                iframe.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}', '*');
                            } catch (error) {
                                console.log('Could not send play command to iframe');
                            }
                    }
                });
            }
        });
        
            // Re-process Instagram embeds when they become visible due to scrolling
            const observer = new IntersectionObserver((entries) => {
                        entries.forEach(entry => {
                    if (entry.isIntersecting && window.instgrm) {
                        // If the Instagram embed is visible, process it
                        window.instgrm.Embeds.process();
                    }
                });
            }, { threshold: 0.1 });
            
            // Observe all Instagram embed containers
            document.querySelectorAll('iframe[src*="instagram.com"]').forEach(embed => {
                observer.observe(embed.parentNode);
            });
            
            // Check if Instagram embeds loaded properly within a reasonable time
            setTimeout(checkInstagramEmbeds, 5000); // Check after 5 seconds
            
            // Force reprocessing if needed
            function reprocessInstagramEmbeds() {
                if (window.instgrm) {
                    window.instgrm.Embeds.process();
                } else {
                    setTimeout(reprocessInstagramEmbeds, 1000); // Try again in 1 second
                }
            }
            
            // Handle potential Instagram embed failures
            function checkInstagramEmbeds() {
                const embeds = document.querySelectorAll('iframe[src*="instagram.com"]');
                
                embeds.forEach(embed => {
                    // Check if the iframe has loaded content properly
                    const iframeLoaded = embed.complete || 
                                        (embed.contentDocument && embed.contentDocument.readyState === 'complete');
        
                    // If content hasn't loaded properly
                    if (!iframeLoaded) {
                        const container = embed.parentNode;
                        const altImageSrc = "https://images.unsplash.com/photo-1595950653106-6c9ebd614d3a?auto=format&fit=crop&w=500&q=80";
                        
                        // Create fallback content
                        const fallbackContent = document.createElement('div');
                        fallbackContent.className = "instagram-fallback";
                        fallbackContent.innerHTML = `
                            <div class="relative w-full h-full">
                                <img src="${altImageSrc}" alt="Shoe cleaning preview" class="w-full h-full object-cover">
                                <div class="absolute inset-0 bg-black bg-opacity-60 flex flex-col items-center justify-center text-white p-4">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 mb-3" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073z"/>
                                        <path d="M12 7.163c-2.672 0-4.838 2.166-4.838 4.837 0 2.672 2.166 4.837 4.838 4.837 2.671 0 4.837-2.165 4.837-4.837 0-2.671-2.166-4.837-4.837-4.837zm0 8.008c-1.75 0-3.169-1.42-3.169-3.171 0-1.749 1.42-3.169 3.169-3.169 1.75 0 3.17 1.42 3.17 3.169 0 1.751-1.42 3.171-3.17 3.171z"/>
                                        <circle cx="16.95" cy="7.05" r="1.115"/>
                                    </svg>
                                    <p class="text-center font-semibold">Instagram content could not be loaded</p>
                                    <a href="${embed.src.split('embed')[0]}" target="_blank" rel="noopener noreferrer" 
                                        class="mt-3 bg-white bg-opacity-20 hover:bg-opacity-30 transition-all duration-300 text-white py-2 px-4 rounded-lg">
                                        View on Instagram
                                    </a>
                                </div>
                            </div>
                        `;
                        
                        // Replace the iframe with the fallback content
                        container.replaceChild(fallbackContent, embed);
                    }
                });
            }
            
            // Initial attempt to process embeds
            reprocessInstagramEmbeds();
            
            // Lazy load Instagram JS if user interacts with video elements
            document.querySelectorAll('.group').forEach(group => {
                group.addEventListener('click', () => {
                    // Make sure Instagram script is loaded when user interacts
                    if (!window.instgrm) {
                        const script = document.createElement('script');
                        script.async = true;
                        script.defer = true;
                        script.src = 'https://www.instagram.com/embed.js';
                        document.body.appendChild(script);
                        
                        script.onload = () => {
                            if (window.instgrm) {
                                window.instgrm.Embeds.process();
                            }
                        };
                    }
                });
            });
        });
    </script>
</body>
</html> 